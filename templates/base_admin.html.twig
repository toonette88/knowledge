{% extends 'base.html.twig' %}

{% block title %}Admin - {{ title|default('Dashboard') }}{% endblock %}

{% block body %}
    <div class="d-flex">
        <!-- Sidebar -->
        <nav class="vh-100 p-3 shadow-sm" 
             style="width: 250px; background-color: #f1f8fc; border-right: 2px solid #00497c;">
            <ul class="nav flex-column">
                {% set links = [
                    {'name': 'Dashboard', 'route': 'admin_dashboard'},
                    {'name': 'Catégories', 'route': 'app_category_index'},
                    {'name': 'Cursus', 'route': 'app_course_index'},
                    {'name': 'Leçons', 'route': 'app_lesson_index'},
                    {'name': 'Utilisateurs', 'route': 'admin_users_list'},
                    {'name': 'Retour au site', 'route': 'app_home'},
                    {'name': 'Déconnexion', 'route': 'app_logout'}
                ] %}

                {% for link in links %}
                    <li class="nav-item">
                        <a class="nav-link py-2 px-3 rounded d-block text-dark"
                           href="{{ path(link.route) }}"
                           style="transition: 0.3s; font-weight: 500;">
                            {{ link.name }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </nav>

        <!-- Main Content -->
        <div class="flex-grow-1 p-4">
            <header class="d-flex justify-content-between align-items-center mb-4 py-3 px-4" 
                    style="background-color: #0074c7; border-radius: 8px; color: white;">
                <div class="d-flex align-items-center">
                    <i class="bi bi-shield-lock" style="font-size: 28px; margin-right: 10px;"></i> <!-- Admin icon -->
                    <h1>{{ title|default('Dashboard') }}</h1> <!-- Title of the page, default is 'Dashboard' -->
                </div>
                <span class="badge bg-light text-dark">Admin</span> <!-- Admin badge for identification -->
            </header>

            <!-- Block for dynamic content -->
            <div class="container">
                {% block admin_content %}{% endblock %}
            </div>
        </div>
    </div>

    <style>
        /* Styling for the sidebar */
        .nav {
            margin-left: -5px; /* Adjustment to align sidebar to the left */
        }

        /* Styling for the sidebar links */
        .nav-link {
            color: #384050 !important; /* Dark grey text */
            font-size: 16px;
            font-weight: 500;
            border-radius: 5px;
        }

        /* Hover effect for sidebar links */
        .nav-link:hover {
            background-color: #0074c7 !important;
            color: #f1f8fc !important;
        }

        /* Active and focus state for sidebar links */
        .nav-link:active, .nav-link:focus {
            background-color: #00497c !important;
            color: white !important;
        }

        /* Admin header icon size */
        header i {
            font-size: 28px;
            margin-right: 10px;
        }

        /* Styling for the admin badge */
        header .badge {
            background-color: #82b864;
            color: white;
            font-weight: 600;
            border-radius: 50px;
            padding: 8px 15px;
            font-size: 16px;
        }

        /* Styling for the header title */
        header h1 {
            font-size: 30px;
            font-weight: bold;
            color: white;
        }
    </style>
{% endblock %}
